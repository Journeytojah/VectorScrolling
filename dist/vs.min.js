!function(t,e){"function"==typeof define&&define.amd?define(function(){return t.vs=e()}):"object"==typeof module&&module.exports?module.exports=t.vs=e():t.vs=e()}(this,function(){function t(t,e,r){var s={};for(i in e)s[i]=n.map(t,0,1,e[i],r[i]);return s.offset=t,s}function e(t){return t.nodeName?t:t[0].nodeName?t[0]:document.querySelector(t)}var n={normalize:function(t,e,n){return(t-e)/(n-e)},interpolate:function(t,e,n){return e+(n-e)*t},map:function(t,e,n,r,s){return t<e&&(t=e),t>n&&(t=n),this.interpolate(this.normalize(t,e,n),r,s)}};return function(r,s,a){function o(e){f=e,h=f+d,pWhenStart<f+d*l.start.is&&pWhenEnd>f+d*l.end.is&&!v?(l.start.hasOwnProperty("call")&&!v&&(f>pTop?l.start.call(!1):l.start.call(!0)),v=!0):(pWhenStart>f+d*l.start.is||pWhenEnd<=f+d*l.end.is)&&v&&(v=!1,pWhenEnd>f+d*l.end.is?(l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.start.vals):l.scroll({offset:0})),l.end.hasOwnProperty("call")&&l.end.call(!1)):(v=!1,l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.end.vals):l.scroll({offset:1})),l.end.hasOwnProperty("call")&&l.end.call(!0))),v&&(track1=Math.floor(f+d*l.start.is-pWhenStart),track2=Math.floor(pWhenEnd-(f+d*l.end.is)),trackPerc=n.map(track1,0,track1+track2,0,1),l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(t(trackPerc,l.start.vals,l.end.vals)):l.scroll({offset:trackPerc})))}function i(){d=window.innerHeight,f=p,h=Math.abs(f)+d,pTop=u.offsetTop,pHeight=u.clientHeight,pWhenStart=pTop+pHeight*l.start.when,pWhenEnd=pTop+pHeight*l.end.when}var l={condition:1,start:{},end:{}};if(l.scroll=function(t){s.seek(s.totalDuration()*t.offset)},void 0!==a&&"object"==typeof a)for(var c in l)a.hasOwnProperty(c)&&("scroll"===c?(l.userScroll=a[c],l[c]=function(t){l.userScroll(t),s.seek(s.totalDuration()*t.offset)}):l[c]=a[c]);switch(l.condition){case 1:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=0;break;case 2:l.start.when=1,l.start.is=1,l.end.when=0,l.end.is=0;break;case 3:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=1;break;case 4:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=0;break;case 5:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=1;break;case 6:l.start.when=Number(a.start.when.split("%")[0])/100,l.start.is=Number(a.start.is.split("%")[0])/100,l.end.when=Number(a.end.when.split("%")[0])/100,l.end.is=Number(a.end.is.split("%")[0])/100}var d,h,p=window.scrollY,w=!1,f=(window,0),u=e(r),v=!1;return window.addEventListener("scroll",function(t){p=window.scrollY,w||(window.requestAnimationFrame(function(){o(p),w=!1}),w=!0)}),window.addEventListener("resize",function(){i(),o(p)},{passive:!0}),i(),o(p),!1}});