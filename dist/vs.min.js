!function(e,t){"function"==typeof define&&define.amd?define(function(){return e.vs=t()}):"object"==typeof module&&module.exports?module.exports=e.vs=t():e.vs=t()}(this,function(){function e(e,t,r){var s={};for(i in t)s[i]=n.map(e,0,1,t[i],r[i]);return s.offset=e,s}function t(e){return e.nodeName?e:e[0].nodeName?e[0]:document.querySelector(e)}var n={normalize:function(e,t,n){return(e-t)/(n-t)},interpolate:function(e,t,n){return t+(n-t)*e},map:function(e,t,n,r,s){return e<t&&(e=t),e>n&&(e=n),this.interpolate(this.normalize(e,t,n),r,s)}};return function(r,s,a){function o(t){f=t,h=f+d,pWhenStart<f+d*l.start.is&&pWhenEnd>f+d*l.end.is&&!v?(l.start.hasOwnProperty("call")&&!v&&(f>pTop?l.start.call(!1):l.start.call(!0)),v=!0):(pWhenStart>f+d*l.start.is||pWhenEnd<=f+d*l.end.is)&&v&&(v=!1,pWhenEnd>f+d*l.end.is?(l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.start.vals):l.scroll({offset:0})),l.end.hasOwnProperty("call")&&l.end.call(!1)):(v=!1,l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(l.end.vals):l.scroll({offset:1})),l.end.hasOwnProperty("call")&&l.end.call(!0))),v&&(track1=Math.floor(f+d*l.start.is-pWhenStart),track2=Math.floor(pWhenEnd-(f+d*l.end.is)),trackPerc=n.map(track1,0,track1+track2,0,1),l.hasOwnProperty("scroll")&&(l.start.hasOwnProperty("vals")&&l.end.hasOwnProperty("vals")?l.scroll(e(trackPerc,l.start.vals,l.end.vals)):l.scroll({offset:trackPerc})))}function i(){d=window.innerHeight,f=p,h=Math.abs(f)+d,pTop=u.offsetTop,pHeight=u.clientHeight,pWhenStart=pTop+pHeight*l.start.when,pWhenEnd=pTop+pHeight*l.end.when}var l={condition:1,start:{},end:{},override:!1};if(l.scroll=function(e){l.override||s.seek(s.totalDuration()*e.offset)},void 0!==a&&"object"==typeof a)for(var c in l)a.hasOwnProperty(c)&&("scroll"===c?(l.userScroll=a[c],l[c]=function(e){l.userScroll(e),l.override||s.seek(s.totalDuration()*e.offset)}):l[c]=a[c]);switch(l.condition){case 1:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=0;break;case 2:l.start.when=1,l.start.is=1,l.end.when=0,l.end.is=0;break;case 3:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=1;break;case 4:l.start.when=0,l.start.is=0,l.end.when=1,l.end.is=0;break;case 5:l.start.when=0,l.start.is=1,l.end.when=1,l.end.is=1;break;case 6:l.start.when=Number(a.start.when.split("%")[0])/100,l.start.is=Number(a.start.is.split("%")[0])/100,l.end.when=Number(a.end.when.split("%")[0])/100,l.end.is=Number(a.end.is.split("%")[0])/100}var d,h,p=window.scrollY,w=!1,f=(window,0),u=t(r),v=!1;return window.addEventListener("scroll",function(e){p=window.scrollY,w||(window.requestAnimationFrame(function(){o(p),w=!1}),w=!0)}),window.addEventListener("resize",function(){i(),o(p)},{passive:!0}),i(),o(p),!1}});